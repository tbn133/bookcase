import{f as w,r as p,g as R,h as C,i as P,j as T,o as i,c as _,a as r,u as t,F as g,d as h,t as k,k as $,v as q,l as E,b as y,_ as A,m as B,n as D,q as S,w as V,s as L}from"./entry.9f8fed67.js";import{u as N,q as O}from"./query.8d3c9da4.js";import"./preview.1e277738.js";const U={class:"app-header"},F={key:0,class:"pl-2"},M={key:1,class:"pl-2"},j=["disabled"],I=["disabled"],z={class:"float-right pr-2"},G={class:"app-content"},H=w({__name:"PdfEmbed",props:{url:{}},setup(m){const a=m,d=p(!1),e=p(1),s=p(""),c=p(),u=R(()=>{var n;return((n=c.value)==null?void 0:n.pageCount)||1}),l=p(!1);C(()=>a.url,(n,o)=>{s.value=n},{immediate:!0}),C(()=>l.value,(n,o)=>{e.value=n?0:1});const f=(n,o)=>{n(prompt(o?"Enter password again":"Enter password"))},v=()=>{d.value=!1};return P(()=>{c.value=null}),(n,o)=>{const x=T("vue-pdf-embed");return i(),_(g,null,[r("div",U,[t(d)?(i(),_(g,{key:0},[h(" Loading... ")],64)):(i(),_(g,{key:1},[t(l)?(i(),_("span",F,k(t(u))+" page(s) ",1)):(i(),_("span",M,[r("button",{disabled:t(e)<=1,onClick:o[0]||(o[0]=b=>e.value--)},"❮",8,j),h(" "+k(t(e))+" / "+k(t(u))+" ",1),r("button",{disabled:t(e)>=t(u),onClick:o[1]||(o[1]=b=>e.value++)},"❯",8,I)])),r("label",z,[$(r("input",{"onUpdate:modelValue":o[2]||(o[2]=b=>E(l)?l.value=b:null),type:"checkbox"},null,512),[[q,t(l)]]),h(" Show all pages ")])],64))]),r("div",G,[y(x,{ref_key:"pdfRef",ref:c,source:t(s),page:t(e),onPasswordRequested:f,onRendered:v},null,8,["source","page"])])],64)}}});const J=A(H,[["__scopeId","data-v-74e8138d"]]),K=w({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(m,{slots:a,attrs:d}){const e=p(!1);return B(()=>{e.value=!0}),s=>{var f;if(e.value)return(f=a.default)==null?void 0:f.call(a);const c=a.fallback||a.placeholder;if(c)return c();const u=s.fallback||s.placeholder||"",l=s.fallbackTag||s.placeholderTag||"span";return _(l,d,u)}}}),Y={__name:"[id]",async setup(m){let a,d;const e=p(null),{path:s}=D(),{data:c}=([a,d]=S(()=>N(`content-${s}`,()=>O().where({_path:s}).findOne())),a=await a,d(),a),u=L();return e.value=`${u.public.basePdfUrl}/${c.value.name}.pdf`,(l,f)=>{const v=J,n=K;return i(),_("main",null,[r("div",null,[y(n,{"fallback-tag":"span",fallback:"Loading Component"},{default:V(()=>[y(v,{url:t(e)},null,8,["url"])]),_:1})])])}}};export{Y as default};
