import{f as x,r as u,g as R,h as y,i as P,j as T,o as i,c as p,a as _,u as t,F as g,d as h,t as k,k as $,v as q,l as E,b as w,_ as A,m as B,n as D,q as S,w as V,s as L}from"./entry.e9e898ae.js";import{u as N,q as O}from"./query.f0b3927a.js";import"./preview.1a647ac0.js";const U={class:"container bg-zinc-50 fixed z-10 shadow-xl w-full app-header"},z={key:0,class:"pl-2"},F={key:1,class:"pl-2"},M=["disabled"],j=["disabled"],I={class:"float-right pr-2"},G={class:"app-content"},H=x({__name:"PdfEmbed",props:{url:{}},setup(m){const a=m,d=u(!1),e=u(1),s=u(""),c=u(),r=R(()=>{var n;return((n=c.value)==null?void 0:n.pageCount)||1}),l=u(!1);y(()=>a.url,(n,o)=>{s.value=n},{immediate:!0}),y(()=>l.value,(n,o)=>{e.value=n?0:1});const f=(n,o)=>{n(prompt(o?"Enter password again":"Enter password"))},b=()=>{d.value=!1};return P(()=>{c.value=null}),(n,o)=>{const C=T("vue-pdf-embed");return i(),p(g,null,[_("div",U,[t(d)?(i(),p(g,{key:0},[h(" Loading... ")],64)):(i(),p(g,{key:1},[t(l)?(i(),p("span",z,k(t(r))+" page(s) ",1)):(i(),p("span",F,[_("button",{disabled:t(e)<=1,onClick:o[0]||(o[0]=v=>e.value--)},"❮",8,M),h(" "+k(t(e))+" / "+k(t(r))+" ",1),_("button",{disabled:t(e)>=t(r),onClick:o[1]||(o[1]=v=>e.value++)},"❯",8,j)])),_("label",I,[$(_("input",{"onUpdate:modelValue":o[2]||(o[2]=v=>E(l)?l.value=v:null),type:"checkbox"},null,512),[[q,t(l)]]),h(" Show all pages ")])],64))]),_("div",G,[w(C,{ref_key:"pdfRef",ref:c,source:t(s),page:t(e),onPasswordRequested:f,onRendered:b},null,8,["source","page"])])],64)}}});const J=A(H,[["__scopeId","data-v-16630c01"]]),K=x({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(m,{slots:a,attrs:d}){const e=u(!1);return B(()=>{e.value=!0}),s=>{var f;if(e.value)return(f=a.default)==null?void 0:f.call(a);const c=a.fallback||a.placeholder;if(c)return c();const r=s.fallback||s.placeholder||"",l=s.fallbackTag||s.placeholderTag||"span";return p(l,d,r)}}}),Y={__name:"[id]",async setup(m){let a,d;const e=u(null),{path:s}=D(),{data:c}=([a,d]=S(()=>N(`content-${s}`,()=>O().where({_path:s}).findOne())),a=await a,d(),a),r=L();return e.value=`${r.public.basePdfUrl}/${c.value.name}.pdf`,(l,f)=>{const b=J,n=K;return i(),p("div",null,[w(n,{"fallback-tag":"span",fallback:"Loading Component"},{default:V(()=>[w(b,{url:t(e)},null,8,["url"])]),_:1})])}}};export{Y as default};
